# vim:set foldmethod=marker foldlevel=0:
# source-file memo/dotfiles/tmux.conf

# ä¸€èˆ¬{{{
# ãƒ“ãƒ¼ãƒ—éŸ³ã‚’æ¶ˆã™
set -g bell-action none
# ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ™ãƒ«ã‚’æ¶ˆã™
set -g visual-bell off
# }}}
# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ {{{
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'tmux-plugins/tmux-online-status'
set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-open'
set -g @plugin 'tmux-plugins/tmux-urlview'
set -g @plugin 'fcsonline/tmux-thumbs'
# set -g @plugin 'thewtex/tmux-mem-cpu-load'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'
# }}}
# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®š{{{

# å‚è€ƒ https://wonderwall.hatenablog.com/entry/2016/07/02/002553
# å……é›»å®Œäº†
set -g @batt_charged_icon "ğŸ˜"
# å……é›»ä¸­
set -g @batt_charging_icon "ğŸ‘"
# æ”¾é›»ä¸­
set -g @batt_discharging_icon "ğŸ‘"
# æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ãŒå……é›»ã•ã‚Œã¦ã„ãªã„
set -g @batt_attached_icon "ğŸ˜"

set -g @batt_icon_status_charged 'ğŸ”‹'
set -g @batt_icon_status_charging 'âš¡'
set -g @batt_icon_status_discharging 'ğŸ‘'

# ã‚ªãƒ³ãƒ©ã‚¤ãƒ³
set -g @online_icon "ğŸŒ"
# ã‚ªãƒ•ãƒ©ã‚¤ãƒ³
set -g @offline_icon "âŒ"

# fã§ã‚³ãƒ”ãƒ¼ã™ã‚‹æ–‡å­—åˆ—ã®ãƒ’ãƒ³ãƒˆã‚’è¡¨ç¤º
set -g @thumbs-key F
# tmux-thumbsã§ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã†
set -g @thumbs-command 'echo -n {} | xsel -i --clipboard'
# }}}
# è¡¨ç¤º{{{
set-option -g default-terminal 'screen-256color'
# set-option -sa terminal-overrides ',screen-256color:RGB'
# set-option -ga terminal-overrides ",screen-256color:Tc"
# # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ã®è‰²ã‚’è¨­å®šã™ã‚‹

set -g status-style fg=white,bg=black
setw -g window-status-style fg=cyan,bg=default
#,attr=dim
setw -g window-status-current-style fg=white,bg=red
#,attr=bright

set -g status-right '\
CPU:#{cpu_percentage} \
ğŸ”‹ #{battery_percentage} \
#{online_status} \
#[fg=cyan,bg=#303030]#{?client_prefix,#[reverse],} #H[#S] #[default]'
# â†‘ ãƒ—ãƒ¬ãƒ•ã‚£ã‚¯ã‚¹ãŒæŠ¼ã•ã‚Œã¦ã„ã‚‹ã¨ãã«è‰²ã‚’åè»¢(å‚è€ƒ: https://codeday.me/jp/qa/20190220/291683.html)

set -g status-right-length '150'
# }}}
# æ“ä½œè¨­å®š{{{
set -s escape-time 0
set -g base-index 1

# ã‚³ãƒ”ãƒ¼ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«å…¥ã‚Œã‚‹ã€‚(xselå¿…è¦)https://qiita.com/purutane/items/1d1dc4818013bbbaead4
# bind-key -T copy-mode-vi v send-keys -X begin-selection
# bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
# bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xsel -bi"set-window-option -g mode-keys vi
# bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xsel -bi"
# }}}
# ã‚­ãƒ¼è¨­å®š{{{
# Ctrl + sã§ã‚‚ãƒ—ãƒ¬ãƒ•ã‚£ã‚¯ã‚¹ã‚­ãƒ¼ã¨ã—ã¦æœ‰åŠ¹ã«ã™ã‚‹
set-option -g prefix2 C-s
bind-key C-s send-prefix -2
set-window-option -g mode-keys vi
bind c new-window -c '#{pane_current_path}'
bind '"' split-window -c '#{pane_current_path}'
bind % split-window -h -c '#{pane_current_path}'

# å‚è€ƒ: https://qiita.com/b4b4r07/items/01359e8a3066d1c37edc
# Prefix+hjkl ã§ãƒšã‚¤ãƒ³ç§»å‹•
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
bind-key -n M-h select-pane -L
bind-key -n M-j select-pane -D
bind-key -n M-k select-pane -U
bind-key -n M-l select-pane -R

# ãƒšã‚¤ãƒ³ã‚µã‚¤ã‚ºã‚’ä¸Šä¸‹å·¦å³ï¼ˆPrefix+JKHLï¼‰ã«å¤‰æ›´
# Prefix+J,J,J,J,...ã¨é€£æ‰“ã—ã¦ãƒªã‚µã‚¤ã‚ºå¯èƒ½
bind-key -r H resize-pane -L 5
bind-key -r J resize-pane -D 5
bind-key -r K resize-pane -U 5
bind-key -r L resize-pane -R 5

bind-key -n M-H resize-pane -L 5
bind-key -n M-J resize-pane -D 5
bind-key -n M-K resize-pane -U 5
bind-key -n M-L resize-pane -R 5

# M-zã§æœ€å¤§åŒ–ãƒ»æœ€å°åŒ–
bind-key -n M-z resize-pane -Z

# Prefix+- ã§æ¨ªã«ã€Prefix+| ã§ç¸¦ã«åˆ†å‰²ï¼ˆãƒšã‚¤ãƒ³ï¼‰ã™ã‚‹
bind-key | split-window -h
bind-key - split-window -v
bind-key v split-window -h -c '#{pane_current_path}'
bind-key s split-window -v -c '#{pane_current_path}'

# Prefix+^ã§ç›´å‰ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã¸ã€‚ã†ã¾ãè¡Œã‹ãªã‹ã£ãŸ
bind-key ^ last-window
bind-key -n M-^ last-window

bind-key -n M-v split-window -h -c '#{pane_current_path}' 
bind-key -n M-s split-window -v -c '#{pane_current_path}' 
# fzfã¨ã®ãƒãƒƒãƒ†ã‚£ãƒ³ã‚°å›é¿
# bind-key -n M-c new-window -c "#{pane_current_path}"
bind-key -n M-m new-window -c "#{pane_current_path}"
bind-key -n M-p previous-window
bind-key -n M-n next-window

# Prefix+rã§è¨­å®šã‚’ãƒªãƒ­ãƒ¼ãƒ‰
bind r source-file ~/.tmux.conf
# }}}
# ãƒã‚¦ã‚¹è¨­å®š{{{
# set-option -g mouse on
set-option -g mouse off
# }}}
